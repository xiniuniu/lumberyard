!function(a){function b(a,b,c){a in i||(i[a]={name:a,declarative:!0,deps:b,declare:c,normalizedDeps:b})}function c(a){return m[a]||(m[a]={name:a,dependencies:[],exports:{},importers:[]})}function d(b){if(!b.module){var e=b.module=c(b.name),f=b.module.exports,g=b.declare.call(a,function(a,b){if(e.locked=!0,"object"==typeof a)for(var c in a)f[c]=a[c];else f[a]=b;for(var d=0,g=e.importers.length;g>d;d++){var h=e.importers[d];if(!h.locked)for(var i=0;i<h.dependencies.length;++i)h.dependencies[i]===e&&h.setters[i](f)}return e.locked=!1,b},b.name);e.setters=g.setters,e.execute=g.execute;for(var j=0,k=b.normalizedDeps.length;k>j;j++){var l,n=b.normalizedDeps[j],o=i[n],p=m[n];p?l=p.exports:o&&!o.declarative?l=o.esModule:o?(d(o),p=o.module,l=p.exports):l=h(n),p&&p.importers?(p.importers.push(e),e.dependencies.push(p)):e.dependencies.push(null),e.setters[j]&&e.setters[j](l)}}}function e(b){var c={};if(("object"==typeof b||"function"==typeof b)&&b!==a)if(k)for(var d in b)"default"!==d&&f(c,b,d);else{var e=b&&b.hasOwnProperty;for(var d in b)"default"===d||e&&!b.hasOwnProperty(d)||(c[d]=b[d])}return c.default=b,l(c,"__useDefault",{value:!0}),c}function f(a,b,c){try{var d;(d=Object.getOwnPropertyDescriptor(b,c))&&l(a,c,d)}catch(d){return a[c]=b[c],!1}}function g(b,c){var d=i[b];if(d&&!d.evaluated&&d.declarative){c.push(b);for(var e=0,f=d.normalizedDeps.length;f>e;e++){var k=d.normalizedDeps[e];-1==j.call(c,k)&&(i[k]?g(k,c):h(k))}d.evaluated||(d.evaluated=!0,d.module.execute.call(a))}}function h(a){if(o[a])return o[a];if("@node/"==a.substr(0,6))return o[a]=e(n(a.substr(6)));var b=i[a];if(!b)throw"Module "+a+" not present.";return d(i[a]),g(a,[]),i[a]=void 0,b.declarative&&l(b.module.exports,"__esModule",{value:!0}),o[a]=b.declarative?b.module.exports:b.esModule}var i={},j=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},k=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(a){k=!1}var l;!function(){try{Object.defineProperty({},"a",{})&&(l=Object.defineProperty)}catch(a){l=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(a){}}}}();var m={},n="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,o={"@empty":{}};return function(a,c,d,f){return function(g){g(function(g){for(var i=0;i<c.length;i++)!function(a,b){b&&b.__esModule?o[a]=b:o[a]=e(b)}(c[i],arguments[i]);f({register:b});var j=h(a[0]);if(a.length>1)for(var i=1;i<a.length;i++)h(a[i]);return d?j.default:j})}}}("undefined"!=typeof self?self:global)(["1"],["3","8","6","7","9","a","d","e","c","10","11"],!1,function(a){this.require,this.exports,this.module;a.register("2",["3"],function(a,b){"use strict";var c,d,e=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();b&&b.id;return{setters:[function(a){c=a}],execute:function(){d=function(a){function b(b,c,d,e,f){return void 0===e&&(e=null),void 0===f&&(f=void 0),a.call(this,b,c,d,e,f)||this}return e(b,a),b.prototype.delete=function(b){return a.prototype.delete.call(this,"portal/info/"+b)},b.prototype.post=function(b){return a.prototype.post.call(this,"portal/content",b)},b.prototype.getContent=function(){return a.prototype.get.call(this,"portal/content")},b}(c.ApiHandler),a("DynamicContentApi",d)}}}),a.register("4",["8","6","5","7","9","a"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),k=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},l=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function b(b,d,e){var f=a.call(this)||this;return f.http=b,f.aws=d,f.metricservice=e,f.displayName="Dynamic Content",f.srcIcon="https://m.media-amazon.com/images/G/01/cloudcanvas/images/dynamic_content_icon_optimized._V518452892_.png",f.state=new c.TackableStatus,f.metric=new c.TackableMeasure,f}return j(b,a),b.prototype.ngOnInit=function(){this._apiHandler=new e.DynamicContentApi(this.context.ServiceUrl,this.http,this.aws,this.metricservice,this.context.identifier),this.report(this.metric),this.assign(this.state)},b.prototype.report=function(a){a.name="Total Files",a.value="Loading...",this._apiHandler.get("portal/content").subscribe(function(b){var c=JSON.parse(b.body.text()),d=c.result.PortalFileInfoList;a.value=d.length})},b.prototype.assign=function(a){a.label="Loading",a.styleType="Loading",this._apiHandler.get("service/status").subscribe(function(b){var c=JSON.parse(b.body.text());a.label="online"==c.result.status?"Online":"Offline",a.styleType="online"==c.result.status?"Enabled":"Offline"},function(b){a.label="Offline",a.styleType="Offline"})},k([d.Input(),l("design:type",Object)],b.prototype,"context",void 0),k([d.Input(),l("design:type",String)],b.prototype,"displayName",void 0),k([d.Input(),l("design:type",String)],b.prototype,"srcIcon",void 0),b=k([d.Component({selector:"dynamic-content-thumbnail",template:'\n    <thumbnail-gem \n        [title]="displayName" \n        [cost]="\'High\'" \n        [srcIcon]="srcIcon" \n        [metric]="metric" \n        [state]="state" \n        >\n    </thumbnail-gem>'}),l("design:paramtypes",[f.Http,g.AwsService,h.LyMetricService])],b)}(c.AbstractCloudGemThumbnailComponent),a("DynamicContentThumbnailComponent",i)}}}),a.register("b",["6","3","d","5","7","9","e","8","c","a"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),q=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},r=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a}],execute:function(){!function(a){a[a.View=0]="View",a[a.Edit=1]="Edit",a[a.Delete=2]="Delete"}(m||(m={})),a("DynamicContentMode",m),function(a){a[a.Private=0]="Private",a[a.Scheduled=1]="Scheduled",a[a.Public=2]="Public"}(n||(n={})),a("DynamicContentStage",n),o=function(a){function b(b,c,d,e,f){var g=a.call(this)||this;return g.http=b,g.aws=c,g.toastr=d,g.metric=f,g.toastr.setRootViewContainerRef(e),g}return p(b,a),b.prototype.ngOnInit=function(){this._apiHandler=new f.DynamicContentApi(this.context.ServiceUrl,this.http,this.aws,this.metric,this.context.identifier),this.bucket="swimlane",this.bucketHeight="700",this.mode=m.View,this.stages=[{displayName:"Private",state:"PRIVATE",value:n.Private,tree:[]},{displayName:"Scheduled",state:"WINDOW",value:n.Scheduled,tree:[]},{displayName:"Public",state:"PUBLIC",value:n.Public,tree:[]}],this.publicStage=this.stages[2],this.transitionStages=[{name:this.stages[n.Private].displayName,val:this.stages[n.Private].value},{name:this.stages[n.Scheduled].displayName,val:this.stages[n.Scheduled].value},{name:this.stages[n.Public].displayName,val:this.stages[n.Public].value}],this.currentDynamicContent={},this.bShowDragTutorial=!0,this.onClick=this.onClick.bind(this),this.onDrop=this.onDrop.bind(this),this.onEdit=this.onEdit.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onDelete=this.onDelete.bind(this),this.onDeleteSubmit=this.onDeleteSubmit.bind(this),this.validate=this.validate.bind(this),this.deleteContent=this.deleteContent.bind(this),this.setViewMode=this.setViewMode.bind(this),this.updateView=this.updateView.bind(this),this.postContent=this.postContent.bind(this),this.getContent()},b.prototype.onEdit=function(a){var b=this.findStage(a),c=void 0!==a.target&&a.target>=0?a.target:b.value.toString();this.currentDynamicContent=a,this.currentDynamicContent.stage=c.toString();var e=a.StagingStart?new Date(a.StagingStart):null,f=a.StagingEnd?new Date(a.StagingEnd):null;this.currentDynamicContent.start=i.DateTimeRangePickerComponent.default(e);var g=i.DateTimeRangePickerComponent.default(f);a.StagingEnd||(g.time.minute=1),this.currentDynamicContent.end=g,this.currentDynamicContent.start.isScheduled=d.DateTimeUtil.isValid(e),this.currentDynamicContent.end.isScheduled=d.DateTimeUtil.isValid(f),this.currentDynamicContent.validation={date:{isValid:!0,message:""}};for(var h=0;h<this.stages.length;h++){var j=this.stages[h];if(Number(this.currentDynamicContent.stage)===j.value){this.currentDynamicContent.stage=j.displayName;break}}this.currentStageDisplayName=b.displayName,this.mode=m.Edit},b.prototype.updateView=function(){this.setViewMode(),this.getContent()},b.prototype.dprModelUpdated=function(a){this.currentDynamicContent.start=a.start,this.currentDynamicContent.end=a.end,this.currentDynamicContent.start.valid=a.start.valid,this.currentDynamicContent.end.valid=a.end.valid,this.currentDynamicContent.start.isScheduled=a.hasStart,this.currentDynamicContent.end.isScheduled=a.hasEnd,this.currentDynamicContent.hasRequiredStartDateTime="Scheduled"===this.currentDynamicContent.stage&&!a.hasEnd,this.currentDynamicContent.hasRequiredEndDateTime="Scheduled"===this.currentDynamicContent.stage&&!a.hasStart,this.currentDynamicContent.datetime={valid:a.valid,message:a.date.message}},b.prototype.validate=function(a){var b=!0;this.currentDynamicContent.stage;return n[n.Public]==this.currentDynamicContent.stage?(this.currentDynamicContent.end.isScheduled=!1,this.currentDynamicContent.start.isScheduled=!1):b=b&&a.datetime.valid,b},b.prototype.onSubmit=function(a){if(this.validate(a)){for(var b="PRIVATE",c=0,e=this.stages;c<e.length;c++){var f=e[c];f.displayName===this.currentDynamicContent.stage&&(b=f.state)}if(status=b,!status)return void this.toastr.error("An error was encountered with pak: "+JSON.stringify(this.currentDynamicContent),"Error generating 'pak' hierarchy");var g={FileName:a.FileName,StagingStatus:status},h=null,i=null;status!==this.publicStage.state&&(this.currentDynamicContent.start.isScheduled&&(h=d.DateTimeUtil.toDate(this.currentDynamicContent.start)),this.currentDynamicContent.end.isScheduled&&(i=d.DateTimeUtil.toDate(this.currentDynamicContent.end))),g.StagingStart=h,g.StagingEnd=i;var j=[];void 0===a.isMissing&&j.push(g),this.getChildrenToMigrate(j,a.children,h,i,status);var k={FileList:j};this.postContent(k),this.setViewMode()}},b.prototype.getChildrenToMigrate=function(a,b,c,d,e){for(var f=0;f<b.length;f++){var g=b[f];if(g.checked&&void 0===g.isMissing){var h={FileName:g.FileName,StagingStatus:e};h.StagingStart=c,h.StagingEnd=d,a.push(h)}this.getChildrenToMigrate(a,g.children,c,d,e)}},b.prototype.clear=function(){for(var a=0;a<this.stages.length;a++){this.stages[a].tree=[]}},b.prototype.onDelete=function(a){this.currentDynamicContent=a,this.mode=m.Delete},b.prototype.onDeleteSubmit=function(a){var b={FileName:a.FileName},c=[];c.push(b),this.getChildrenToDelete(c,a.children);for(var d={count:0,length:c.length},e=0,f=c;e<f.length;e++){var g=f[e];this.deleteContent(g.FileName,d)}this.setViewMode()},b.prototype.getChildrenToDelete=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e={FileName:d.FileName};a.push(e),this.getChildrenToDelete(a,d.children)}},b.prototype.onDrop=function(a,b,c){for(var d,e,f=a.firstChild.id,g=b.id,h=c.id,i=0;i<this.stages.length;i++){var j=this.stages[i];g==j.state&&(d=j),h==j.state&&(e=j)}for(var k=void 0,i=0;i<e.tree.length;i++)if(f==e.tree[i].FileName){k=e.tree[i];break}k.target=d.value,this.bShowDragTutorial=!1,this.onEdit(k)},b.prototype.onClick=function(a){this.currentDynamicContent=a},b.prototype.remove=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},b.prototype.setViewMode=function(){this.mode=m.View},b.prototype.clearScheduledDates=function(){this.currentDynamicContent.start={},this.currentDynamicContent.end={}},b.prototype.hierarchize=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.children=[],d.StagingStatus!=this.publicStage.state&&(Date.parse(d.StagingStart)>0&&Date.parse(d.StagingEnd)>0?d.scheduledDateTime=d.StagingStart+" to "+d.StagingEnd:Date.parse(d.StagingStart)>0?d.scheduledDateTime=d.StagingStart+" - No End":Date.parse(d.StagingEnd)>0&&(d.scheduledDateTime="No Start - "+d.StagingEnd)),d.Parent?b.push(d):this.ground(d)}for(var e=a.length*a.length+1,f=1;b.length>0&&f<e;){var d=b.splice(0,1)[0];d.checked=!0;var g=this.findTree(d),h=this.find(g,d.Parent);h?h.push(d):b.push(d),f++}for(var c=0;c<b.length;c++){var d=b[c],g=this.findTree(d),i=this.findChildById(d.Parent),j=this.findChildObjectById(g,d.Parent);if(j?(i.statusClassNames=null,i=j):i&&(i.isMissingParent=void 0,i.subText="This is the parent package for '"+d.FileName+"'.",i.statusClassNames="fa fa-warning warning-overlay-color"),null!==i&&void 0!==i){if(i.StagingStatus!=d.StagingStatus&&void 0===i.isMissingParent){var k=this.findChildObjectById(this.findTree(d),i.FileName),l=Object.assign({},null!==k?k:i);i.className="located-parent",l.children=[],l.isMissing=!0,l.isMissingParent=!0,l.secondaryText="(Missing)",l.className="missing",l.subText="Fix: Drag '"+i.FileName+"' to this pak or this pak to the '"+i.FileName+"'.",l.children.push(d),g.push(l)}else i.children.push(d);d.secondaryText="(Hidden)",d.subText="Hidden due to missing '"+i.FileName+"' in this swimlane.",d.className="missing-decendant",i.isMissingParent=!0}else g.push(d)}},b.prototype.ground=function(a){if(!a.StagingStatus)return void this.toastr.error("We did not find a 'StagingStatus' attribute on pak '"+a.FileName+"'","Error generating 'pak' hierarchy");for(var b=a.StagingStatus.toUpperCase(),c=!1,d=0;d<this.stages.length;d++){var e=this.stages[d];if(b==e.state){e.tree.push(a),c=!0;break}}c||this.toastr.error("We did not find a known 'StagingStatus' attribute on pak '"+a.FileName+"'","Error generating 'pak' hierarchy")},b.prototype.find=function(a,b){for(var c=null,d=0;d<a.length;d++){var e=a[d];if(e.FileName==b){e.children||(e.children=[]),c=e.children;break}if(c=this.find(e.children,b))break}return c},b.prototype.findChildById=function(a){for(var b=0;b<this.stages.length;b++)for(var c=this.stages[b],d=0;d<c.tree.length;d++){var e=c.tree[d];if(e.FileName==a)return e;var f=this.findChildObjectById(e.children,a);if(null!==f)return f}return null},b.prototype.findChildObjectById=function(a,b){for(var c=null,d=0;d<a.length;d++){var e=a[d];if(e.FileName==b){c=e;break}if(c=this.findChildObjectById(e.children,b))break}return c},b.prototype.findTree=function(a){for(var b=[],c=a.StagingStatus.toUpperCase(),d=0;d<this.stages.length;d++){var e=this.stages[d];if(c==e.state){b=e.tree;break}}return b},b.prototype.findStage=function(a){for(var b=a.StagingStatus.toUpperCase(),c=0;c<this.stages.length;c++){var d=this.stages[c];if(b==d.state)return d}return null},b.prototype.postContent=function(a){var b=this;this.modalRef.close(!0),this._apiHandler.post(a).subscribe(function(c){b.toastr.success("The package "+(a.FileList.length>0?"'"+a.FileList[0].FileName+"'":"")+" was successfully updated."),b.updateView()},function(c){b.toastr.error("The update of the dynamic content package "+(a.FileList.length>0?"'"+a.FileList[0].FileName+"'":"")+" failed: "+c.message)})},b.prototype.getContent=function(){var a=this;this.clear(),this.isLoading=!0,this.hasNoContent=!1,this._apiHandler.getContent().subscribe(function(b){var c=JSON.parse(b.body.text()),d=c.result.PortalFileInfoList;0==d.length&&(a.hasNoContent=!0),a.hierarchize(d),a.isLoading=!1},function(b){a.toastr.error("The listing of dynamic content packages failed. "+b.message)})},b.prototype.isDeletionComplete=function(a){return null===a||++a.count==a.length},b.prototype.deleteContent=function(a,b){var c=this;void 0===b&&(b=null),this.isLoading=!0,this.modalRef.close(!0),this._apiHandler.delete(a).subscribe(function(b){c.toastr.success("The package '"+a+"' was successfully deleted."),c.getContent()},function(b){c.toastr.error("The deletion of package '"+a+"' failed. "+b.message)})},q([c.Input(),r("design:type",Object)],b.prototype,"context",void 0),q([c.ViewChild(e.ModalComponent),r("design:type",e.ModalComponent)],b.prototype,"modalRef",void 0),b=q([c.Component({selector:"dynamic-content-index",template:'<div class="gem-container">     <facet-generator [context]="context"         [tabs]="[\'Overview\']"         (tabClicked)="subNavActiveIndex = $event"         [metricIdentifier]="context.identifier"></facet-generator>     <div *ngIf="subNavActiveIndex == 0 || subNavActiveIndex === undefined" [ngSwitch]="isLoading">         <div *ngSwitchCase="true">             <loading-spinner></loading-spinner>         </div>         <div *ngSwitchCase="false" class="container">             <div *ngIf="!hasNoContent">                 <div class="header" *ngIf="bShowDragTutorial">                     <div class="row">Manifests and packages uploaded through the Dynamic Content Manager in Lumberyard will appear below.</div>                     <div class="row">Drag &amp; drop the manifests and packages across columns to make them available in a specific environment.</div>                 </div>                 <div class="row">                     <div class="swimlane col-lg-4 swimland-right-border" *ngFor="let stage of stages">                         <div class="swimlane-header">                             <h2>{{stage.displayName}}</h2>                         </div>                         <dragable [id]="stage.state" [bagId]="bucket" [heightPx]="bucketHeight" [drop]="onDrop" [over]="onOver">                             <action-stub *ngFor="let decendant1 of stage.tree" class="{{decendant1.className}}" [id]="decendant1.FileName" [secondaryText]="decendant1.secondaryText" [statusClassNames]="decendant1.statusClassNames" [model]="decendant1" [subtext]="decendant1.subText === undefined ? decendant1.scheduledDateTime : decendant1.subText" [click]="onClick" [text]="decendant1.FileName" [textTouch]="onClick" [edit]="onEdit" [delete]="decendant1.isMissing === undefined ? onDelete : null">                                 <action-stub *ngFor="let decendant2 of decendant1.children" class="{{decendant2.className}}" [id]="decendant2.FileName" [secondaryText]="decendant2.secondaryText" [statusClassNames]="decendant2.statusClassNames" [subtext]="decendant2.subText === undefined ? decendant2.scheduledDateTime : decendant2.subText" [model]="decendant2" [text]="decendant2.FileName" [delete]="decendant2.isMissing === undefined ? onDelete : null" [textTouch]="onClick" [click]="onClick">                                     <action-stub *ngFor="let decendant3 of decendant2.children" class="{{decendant3.className}}" [id]="decendant3.FileName" [secondaryText]="decendant3.secondaryText" [statusClassNames]="decendant3.statusClassNames" [subtext]="decendant3.subText === undefined ? decendant3.scheduledDateTime : decendant3.subText" [model]="decendant3" [text]="decendant3.FileName" [delete]="decendant3.isMissing === undefined ? onDelete : null" [textTouch]="onClick" [click]="onClick">                                         <action-stub *ngFor="let decendant4 of decendant3.children" class="{{decendant4.className}}" [id]="decendant4.FileName" [secondaryText]="decendant4.secondaryText" [statusClassNames]="decendant4.statusClassNames" [subtext]="decendant4.subText === undefined ? decendant4.scheduledDateTime : decendant4.subText" [model]="decendant4" [text]="decendant4.FileName" [delete]="decendant4.isMissing === undefined ? onDelete : null" [textTouch]="onClick" [click]="onClick">                                             <action-stub *ngFor="let decendant5 of decendant4.children" class="{{decendant5.className}}" [id]="decendant5.FileName" [secondaryText]="decendant5.secondaryText" [statusClassNames]="decendant5.statusClassNames" [subtext]="decendant5.subText === undefined ? decendant5.scheduledDateTime : decendant5.subText" [model]="decendant5" [text]="decendant5.FileName" [delete]="decendant5.isMissing === undefined ? onDelete : null" [textTouch]="onClick" [click]="onClick">                                                 <action-stub *ngFor="let decendant6 of decendant5.children" class="{{decendant6.className}}" [id]="decendant6.FileName" [secondaryText]="decendant6.secondaryText" [statusClassNames]="decendant6.statusClassNames" [subtext]="decendant6.subText === undefined ? decendant6.scheduledDateTime : decendant6.subText" [model]="decendant6" [text]="decendant6.FileName" [delete]="decendant6.isMissing === undefined ? onDelete : null" [textTouch]="onClick" [click]="onClick">                                                 </action-stub>                                             </action-stub>                                         </action-stub>                                     </action-stub>                                 </action-stub>                             </action-stub>                         </dragable>                     </div>                     <div class="swimlane-footer row">                         <div class="swimlane-footer-title"><h4>{{currentDynamicContent.FileName}}</h4></div>                         <div class="swimlane-footer-left">                             <div>File state: {{currentDynamicContent.StagingStatus}}</div>                             <div>File parent: {{currentDynamicContent.Parent}}</div>                             <div>Start: {{currentDynamicContent.StagingStart}}</div>                             <div>Stop: {{currentDynamicContent.StagingEnd}}</div>                             <div>Details: <pre>{{currentDynamicContent | json}}</pre></div>                         </div>                         <div class="swimlane-footer-right">                             <div>Description: {{currentDynamicContent.Description}}</div>                         </div>                     </div>                 </div>             </div>             <div *ngIf="hasNoContent" class="container text-left">                 <div class="row">                     <p class="col-8">There was no dynamic content found.  You can use the Lumberyard Editor to create your own dynamic content packages.</p>                 </div>                 <div class="row">                     <p class="col-8">In the Lumberyard Editor go to the menu View -> Open View Pane -> Dynamic Content Manager.</p>                 </div>                 <div class="row">                     <a class="col-8" href="http://docs.aws.amazon.com/lumberyard/latest/developerguide/cloud-canvas-intro.html" target="_blank"> Cloud Canvas Introduction </a>                 </div>             </div>         </div>     </div> </div> \x3c!--Modal definitions--\x3e <modal *ngIf="mode == 1" title="Move PAK \'{{currentDynamicContent.FileName}}\'"         [hasSubmit]="true"         [metricIdentifier]="context.identifier"         (modalSubmitted)="onSubmit(currentDynamicContent)"         submitButtonText="Move content"         [onClose]="updateView"         [onDismiss]="updateView"         [autoOpen]="true">     <div class="modal-body modal-padding">         <form>             <div class="form-group row">                 <label for="transition" class="col-3 col-form-label affix">Transition</label>                 Move content from stage \'{{currentStageDisplayName}}\' to:                 <div class="d-inline-block transition-stage-dropdown" ngbDropdown [class.has-danger]="currentDynamicContent.validated && currentDynamicContent.stage">                         <button type="button" class="btn search-dropdown l-dropdown" ngbDropdownToggle>                         <span> {{currentDynamicContent.stage}} </span>                         <i class="fa fa-caret-down" aria-hidden="true"></i>                     </button>                     <div class="dropdown-menu" aria-labelledby="dynamic-content-stage-dropdown">                         <button *ngFor="let stage of transitionStages" (click)="currentDynamicContent.stage = stage.name" name="transitionStage"                         type="button" class="dynamic-content-dropdown-item dropdown-item" [value]="stage.value">                             {{ stage.name }}                         </button>                     </div>                 </div>             </div>             <div class="form-group row" [class.has-danger]="!(currentDynamicContent.start.valid && currentDynamicContent.end.valid)" *ngIf="currentDynamicContent.stage == \'Private\' || currentDynamicContent.stage == \'Scheduled\'">                 <label for="schedule" class="col-3 col-form-label affix form-control-label"> Scheduling </label>                 <div class="col-9 col-push-3 form-control-danger">                     <datetime-range-picker (dateTimeRange)="dprModelUpdated($event)"                                            [startDateModel]="currentDynamicContent.start.date"                                            [endDateModel]="currentDynamicContent.end.date"                                            [startTime]="currentDynamicContent.start.time"                                            [endTime]="currentDynamicContent.end.time"                                            [hasStart]="currentDynamicContent.start.isScheduled"                                            [hasEnd]="currentDynamicContent.end.isScheduled"                                            [isStartRequired]="currentDynamicContent.hasRequiredStartDateTime"                                            [isEndRequired]="currentDynamicContent.hasRequiredEndDateTime"></datetime-range-picker>                     <div *ngIf="!(currentDynamicContent.start.valid && currentDynamicContent.end.valid)" class="form-control-feedback">{{currentDynamicContent.datetime.message}}</div>                 </div>                 \x3c!--<pre>{{ currentDynamicContent | json | devonly }}</pre>--\x3e             </div>             <div class="form-group row" *ngIf="currentDynamicContent.children && currentDynamicContent.children.length>0">                 <label for="priority" class="col-3 col-form-label affix"> Package Children </label>                 <div class="d-inline-block col-9" ngbDropdown>                     What content in the PAK \'{{currentDynamicContent.FileName}}\' would you like to move?                     <div class="modal-pak-children">                         <div *ngFor="let pak1 of currentDynamicContent.children">                             <input type="checkbox" [id]="pak1.FileName" [(ngModel)]="pak1.checked" name="pak1.FileName" />                             <label class="l-checkbox" [attr.for]="pak1.FileName" [id]="pak1.FileName">                                 {{pak1.FileName}}                             </label>                              <div class="modal-pak-children-checkbox" *ngFor="let pak2 of pak1.children">                                 <input type="checkbox" [id]="pak2.FileName" [(ngModel)]="pak2.checked" name="pak2.FileName" />                                 <label class="l-checkbox" [attr.for]="pak2.FileName" [id]="pak2.FileName">                                     {{pak2.FileName}}                                 </label>                                 <div class="modal-pak-children-checkbox" *ngFor="let pak3 of pak2.children">                                     <input type="checkbox" [id]="pak3.FileName" [(ngModel)]="pak3.checked" name="pak3.FileName" />                                     <label class="l-checkbox" [attr.for]="pak3.FileName" [id]="pak3.FileName">                                         {{pak3.FileName}}                                     </label>                                      <div class="modal-pak-children-checkbox" *ngFor="let pak4 of pak3.children">                                         <input type="checkbox" [id]="pak4.FileName" [(ngModel)]="pak4.checked" name="pak4.FileName" />                                         <label class="l-checkbox" [attr.for]="pak4.FileName" [id]="pak4.FileName">                                             {{pak4.FileName}}                                         </label>                                         <div class="modal-pak-children-checkbox" *ngFor="let pak5 of pak4.children">                                             <input type="checkbox" [id]="pak5.FileName" [(ngModel)]="pak5.checked" name="pak5.FileName" />                                             <label class="l-checkbox" [attr.for]="pak5.FileName" [id]="pak5.FileName">                                                 {{pak5.FileName}}                                             </label>                                         </div>                                      </div>                                 </div>                              </div>                        </div>                     </div>                 </div>             </div>         </form>         \x3c!--<pre>{{currentDynamicContent | json | devonly}}</pre>--\x3e     </div> </modal>  <modal *ngIf="mode == 2"        title="Delete Dynamic Content"        [metricIdentifier]="context.identifier"        [hasSubmit]="true"        (modalSubmitted)="onDeleteSubmit(currentDynamicContent)"        [onClose]="updateView"        [onDismiss]="updateView"        [autoOpen]="true"        submitButtonText="Delete Content">     <div class="modal-body">         <p> Are you sure you want to delete the dynamic content package \'{{currentDynamicContent.FileName}}\' and all children?</p>         \x3c!--<pre>{{currentDynamicContent | json | devonly}}</pre>--\x3e     </div> </modal>',styles:['.header{min-height:100px}.swimlane{text-align:center}.swimland-right-border{border-right:1px dashed #cccccc}.swimlane-header{border-bottom:1px solid #6441A5;margin-bottom:20px}.swimlane-footer{border-top:1px solid #CCCCCC;float:left;width:100%;margin-top:5px}.swimlane-footer-title{width:100%;margin-top:10px;margin-left:15px}.swimlane-footer-left{float:left;width:500px;margin-left:15px}.swimlane-footer-right{float:left}.modal-cell{padding-right:10px;display:inline}.modal-padding{padding-left:10px}.modal-pak-children{margin:10px 0;overflow-y:auto}.modal-pak-children label{margin-top:.5rem}.modal-pak-children-checkbox{display:block;padding-left:10px}.action-stub .secondaryText>div{color:#f4a742;font-style:italic}select[name="transitionStage"]{margin-top:10px}.missing>div{opacity:0.6}.located-parent>div .row .col-10 .primary-text-container small{color:#E57829}.missing>div>.row>.col-10 .primary-text-container>p{text-decoration:line-through}.missing>div .row .col-10 .primary-text-container small{color:#E57829}.missing-decendant>div .row .col-10 .primary-text-container small{color:#E57829}.transition-stage-dropdown{margin-left:10px}']}),r("design:paramtypes",[g.Http,h.AwsService,k.ToastsManager,c.ViewContainerRef,l.LyMetricService])],b)}(j.AbstractCloudGemIndexComponent),a("DynamicContentIndexComponent",o)}}}),a.register("f",["6","10","5","11"],function(a,b){"use strict";var c,d,e,f,g,h=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};b&&b.id;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(){}return a=h([c.NgModule({imports:[f.GameSharedModule,d.GemModule],declarations:[e.DynamicContentIndexComponent,e.DynamicContentThumbnailComponent],providers:[],bootstrap:[e.DynamicContentThumbnailComponent,e.DynamicContentIndexComponent]})],a)}(),a("CloudGemDynamicContentModule",g)}}}),a.register("5",["2","4","b","f"],function(a,b){"use strict";function c(b){var c={};for(var d in b)"default"!==d&&(c[d]=b[d]);a(c)}b&&b.id;return{setters:[function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)}],execute:function(){}}}),a.register("1",["5"],function(a,b){"use strict";function c(){return d.CloudGemDynamicContentModule}b&&b.id;a("definition",c);var d;return{setters:[function(a){d=a}],execute:function(){}}})})(function(a){if("function"==typeof define&&define.amd)define(["app/shared/class/index.js","app/view/game/module/cloudgems/class/index.js","@angular/core","@angular/http","app/aws/aws.service.js","app/shared/service/index.js","app/shared/component/index.js","app/shared/component/datetime-range-picker.component.js","ng2-toastr","app/view/game/module/cloudgems/gem.module.js","app/view/game/module/shared/shared.module.js"],a);else{if("object"!=typeof module||!module.exports||"function"!=typeof require)throw new Error("Module must be loaded as AMD or CommonJS");module.exports=a(require("app/shared/class/index.js"),require("app/view/game/module/cloudgems/class/index.js"),require("@angular/core"),require("@angular/http"),require("app/aws/aws.service.js"),require("app/shared/service/index.js"),require("app/shared/component/index.js"),require("app/shared/component/datetime-range-picker.component.js"),require("ng2-toastr"),require("app/view/game/module/cloudgems/gem.module.js"),require("app/view/game/module/shared/shared.module.js"))}});